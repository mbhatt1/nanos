import{_ as s,C as a,c as i,o as e,ah as n,b as l,j as t,w as r,a as p,G as o,ai as h}from"./chunks/framework.CI1pfr7V.js";const d=JSON.parse('{"title":"Policy Overview","description":"","frontmatter":{},"headers":[],"relativePath":"policy/index.md","filePath":"policy/index.md","lastUpdated":1768626356000}');const c=s({name:"policy/index.md"},[["render",function(s,d,c,E,k,u){const A=a("Mermaid");return e(),i("div",null,[d[7]||(d[7]=n("",4)),(e(),l(h,null,{default:r(()=>[o(A,{id:"mermaid-26",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20REQ%5BEffect%20Request%5D%20--%3E%20LOAD%7BPolicy%20Loaded%3F%7D%0A%0A%20%20%20%20LOAD%20--%3E%7CNo%7C%20DENY1%5BDENY%3Cbr%2F%3ENo%20policy%20found%5D%0A%20%20%20%20LOAD%20--%3E%7CYes%7C%20MATCH%7BPattern%20Match%3F%7D%0A%0A%20%20%20%20MATCH%20--%3E%7CNo%20Match%7C%20DENY2%5BDENY%3Cbr%2F%3ENo%20rule%20covers%20request%5D%0A%20%20%20%20MATCH%20--%3E%7CMatch%20Found%7C%20RULE%7BRule%20Decision%3F%7D%0A%0A%20%20%20%20RULE%20--%3E%7CDENY%7C%20DENY3%5BDENY%3Cbr%2F%3EExplicit%20deny%20rule%5D%0A%20%20%20%20RULE%20--%3E%7CALLOW%7C%20BUDGET%7BBudget%20OK%3F%7D%0A%20%20%20%20RULE%20--%3E%7CREQUIRE_APPROVAL%7C%20APPROVE%5BWait%20for%20Approval%5D%0A%0A%20%20%20%20BUDGET%20--%3E%7CExceeded%7C%20DENY4%5BDENY%3Cbr%2F%3EBudget%20exceeded%5D%0A%20%20%20%20BUDGET%20--%3E%7COK%7C%20ALLOW%5BALLOW%3Cbr%2F%3EExecute%20operation%5D%0A%0A%20%20%20%20style%20DENY1%20fill%3A%23c0392b%2Ccolor%3A%23fff%0A%20%20%20%20style%20DENY2%20fill%3A%23c0392b%2Ccolor%3A%23fff%0A%20%20%20%20style%20DENY3%20fill%3A%23c0392b%2Ccolor%3A%23fff%0A%20%20%20%20style%20DENY4%20fill%3A%23c0392b%2Ccolor%3A%23fff%0A%20%20%20%20style%20ALLOW%20fill%3A%2327ae60%2Ccolor%3A%23fff%0A%20%20%20%20style%20APPROVE%20fill%3A%23f39c12%2Ccolor%3A%23fff%0A"})]),fallback:r(()=>[...d[0]||(d[0]=[p(" Loading... ",-1)])]),_:1})),d[8]||(d[8]=t("h2",{id:"policy-structure",tabindex:"-1"},[p("Policy Structure "),t("a",{class:"header-anchor",href:"#policy-structure","aria-label":'Permalink to "Policy Structure"'},"​")],-1)),(e(),l(h,null,{default:r(()=>[o(A,{id:"mermaid-30",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22Policy%20File%22%0A%20%20%20%20%20%20%20%20VER%5Bversion%3A%201.0%5D%0A%0A%20%20%20%20%20%20%20%20subgraph%20FS%5BFilesystem%20Rules%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20FS_R%5Bread%3A%20patterns%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20FS_W%5Bwrite%3A%20patterns%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20NET%5BNetwork%20Rules%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20NET_DNS%5Bdns%3A%20domains%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20NET_CON%5Bconnect%3A%20targets%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20NET_BIND%5Bbind%3A%20addresses%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20NET_LIST%5Blisten%3A%20addresses%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20TOOLS%5BTool%20Rules%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20T_ALLOW%5Ballow%3A%20names%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20T_DENY%5Bdeny%3A%20names%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20INFER%5BInference%20Rules%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20I_MODELS%5Bmodels%3A%20patterns%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20I_TOKENS%5Bmax_tokens%3A%20limit%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20BUDGETS%5BBudget%20Limits%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20B_CALLS%5Btool_calls%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20B_TOKENS%5Btokens%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20B_TIME%5Bwall_time_ms%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20PROFILES%5Bprofiles%3A%20includes%5D%0A%20%20%20%20end%0A%0A%20%20%20%20style%20VER%20fill%3A%233498db%2Ccolor%3A%23fff%0A%20%20%20%20style%20FS%20fill%3A%232ecc71%2Ccolor%3A%23fff%0A%20%20%20%20style%20NET%20fill%3A%239b59b6%2Ccolor%3A%23fff%0A%20%20%20%20style%20TOOLS%20fill%3A%23e74c3c%2Ccolor%3A%23fff%0A%20%20%20%20style%20INFER%20fill%3A%23f39c12%2Ccolor%3A%23fff%0A%20%20%20%20style%20BUDGETS%20fill%3A%231abc9c%2Ccolor%3A%23fff%0A"})]),fallback:r(()=>[...d[1]||(d[1]=[p(" Loading... ",-1)])]),_:1})),d[9]||(d[9]=n("",4)),(e(),l(h,null,{default:r(()=>[o(A,{id:"mermaid-52",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20subgraph%20%22Development%22%0A%20%20%20%20%20%20%20%20INITRD%5B%2Fak%2Fpolicy.json%3Cbr%2F%3Ein%20initrd%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Production%22%0A%20%20%20%20%20%20%20%20EMBED%5BEmbedded%20in%20kernel%3Cbr%2F%3Eat%20compile%20time%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Runtime%22%0A%20%20%20%20%20%20%20%20LOADER%5BPolicy%20Loader%5D%0A%20%20%20%20%20%20%20%20CACHE%5BCached%20Policy%5D%0A%20%20%20%20end%0A%0A%20%20%20%20INITRD%20--%3E%20LOADER%0A%20%20%20%20EMBED%20--%3E%20LOADER%0A%20%20%20%20LOADER%20--%3E%20CACHE%0A%0A%20%20%20%20style%20INITRD%20fill%3A%233498db%2Ccolor%3A%23fff%0A%20%20%20%20style%20EMBED%20fill%3A%23e74c3c%2Ccolor%3A%23fff%0A%20%20%20%20style%20CACHE%20fill%3A%232ecc71%2Ccolor%3A%23fff%0A"})]),fallback:r(()=>[...d[2]||(d[2]=[p(" Loading... ",-1)])]),_:1})),d[10]||(d[10]=n("",7)),(e(),l(h,null,{default:r(()=>[o(A,{id:"mermaid-70",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22Filesystem%20Pattern%20Matching%22%0A%20%20%20%20%20%20%20%20PATH%5B%2Fapp%2Fdata%2Ffile.txt%5D%0A%0A%20%20%20%20%20%20%20%20P1%5B%22%2Fapp%2F**%22%5D%20--%3E%7CMATCH%7C%20PATH%0A%20%20%20%20%20%20%20%20P2%5B%22%2Fapp%2Fdata%2F*%22%5D%20--%3E%7CMATCH%7C%20PATH%0A%20%20%20%20%20%20%20%20P3%5B%22%2Fapp%2Fdata%2Ffile.txt%22%5D%20--%3E%7CMATCH%7C%20PATH%0A%20%20%20%20%20%20%20%20P4%5B%22%2Ftmp%2F**%22%5D%20--%3E%7CNO%20MATCH%7C%20PATH%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Network%20Pattern%20Matching%22%0A%20%20%20%20%20%20%20%20TARGET%5Bdns%3Aapi.github.com%3A443%5D%0A%0A%20%20%20%20%20%20%20%20N1%5B%22dns%3Aapi.github.com%3A443%22%5D%20--%3E%7CMATCH%7C%20TARGET%0A%20%20%20%20%20%20%20%20N2%5B%22dns%3A*.github.com%3A443%22%5D%20--%3E%7CMATCH%7C%20TARGET%0A%20%20%20%20%20%20%20%20N3%5B%22dns%3A*%3A443%22%5D%20--%3E%7CMATCH%7C%20TARGET%0A%20%20%20%20%20%20%20%20N4%5B%22ip%3A*%3A443%22%5D%20--%3E%7CNO%20MATCH%7C%20TARGET%0A%20%20%20%20end%0A%0A%20%20%20%20style%20PATH%20fill%3A%233498db%2Ccolor%3A%23fff%0A%20%20%20%20style%20TARGET%20fill%3A%239b59b6%2Ccolor%3A%23fff%0A"})]),fallback:r(()=>[...d[3]||(d[3]=[p(" Loading... ",-1)])]),_:1})),d[11]||(d[11]=n("",12)),(e(),l(h,null,{default:r(()=>[o(A,{id:"mermaid-97",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20Agent%0A%20%20%20%20participant%20Gate%20as%20Authority%20Gate%0A%20%20%20%20participant%20Budget%20as%20Budget%20Controller%0A%20%20%20%20participant%20Op%20as%20Operation%0A%0A%20%20%20%20Agent-%3E%3EGate%3A%20Request%20(cost%3D10%20tokens)%0A%20%20%20%20Gate-%3E%3EBudget%3A%20Check%20budget%0A%0A%20%20%20%20Budget-%3E%3EBudget%3A%20current%3D90%2C%20limit%3D100%0A%20%20%20%20Budget-%3E%3EBudget%3A%2090%20%2B%2010%20%3C%3D%20100%3F%0A%0A%20%20%20%20alt%20Within%20Budget%0A%20%20%20%20%20%20%20%20Budget--%3E%3EGate%3A%20OK%0A%20%20%20%20%20%20%20%20Gate-%3E%3EOp%3A%20Execute%0A%20%20%20%20%20%20%20%20Op--%3E%3EGate%3A%20Success%0A%20%20%20%20%20%20%20%20Gate-%3E%3EBudget%3A%20Commit%20cost%0A%20%20%20%20%20%20%20%20Budget-%3E%3EBudget%3A%20current%20%3D%20100%0A%20%20%20%20%20%20%20%20Gate--%3E%3EAgent%3A%20Success%0A%20%20%20%20else%20Exceeds%20Budget%0A%20%20%20%20%20%20%20%20Budget--%3E%3EGate%3A%20E_BUDGET_EXCEEDED%0A%20%20%20%20%20%20%20%20Gate--%3E%3EAgent%3A%20Error%20(budget%20exceeded)%0A%20%20%20%20end%0A"})]),fallback:r(()=>[...d[4]||(d[4]=[p(" Loading... ",-1)])]),_:1})),d[12]||(d[12]=t("h2",{id:"profile-inheritance",tabindex:"-1"},[p("Profile Inheritance "),t("a",{class:"header-anchor",href:"#profile-inheritance","aria-label":'Permalink to "Profile Inheritance"'},"​")],-1)),(e(),l(h,null,{default:r(()=>[o(A,{id:"mermaid-101",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20%22Built-in%20Profiles%22%0A%20%20%20%20%20%20%20%20TIER1%5Btier1-musl%3Cbr%2F%3EMinimal%5D%0A%20%20%20%20%20%20%20%20TIER2%5Btier2-glibc%3Cbr%2F%3EDynamic%20linking%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22User%20Policy%22%0A%20%20%20%20%20%20%20%20USER%5BUser%20Rules%5D%0A%20%20%20%20%20%20%20%20PROFILES%5Bprofiles%3A%20tier1-musl%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Effective%20Policy%22%0A%20%20%20%20%20%20%20%20MERGED%5BMerged%20Rules%5D%0A%20%20%20%20end%0A%0A%20%20%20%20TIER1%20--%3E%20MERGED%0A%20%20%20%20USER%20--%3E%20MERGED%0A%20%20%20%20PROFILES%20-.-%3E%7Cincludes%7C%20TIER1%0A%0A%20%20%20%20style%20TIER1%20fill%3A%233498db%2Ccolor%3A%23fff%0A%20%20%20%20style%20TIER2%20fill%3A%239b59b6%2Ccolor%3A%23fff%0A%20%20%20%20style%20MERGED%20fill%3A%232ecc71%2Ccolor%3A%23fff%0A"})]),fallback:r(()=>[...d[5]||(d[5]=[p(" Loading... ",-1)])]),_:1})),d[13]||(d[13]=t("h2",{id:"denial-debugging",tabindex:"-1"},[p("Denial Debugging "),t("a",{class:"header-anchor",href:"#denial-debugging","aria-label":'Permalink to "Denial Debugging"'},"​")],-1)),(e(),l(h,null,{default:r(()=>[o(A,{id:"mermaid-105",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20Agent%0A%20%20%20%20participant%20AK%20as%20Authority%20Kernel%0A%20%20%20%20participant%20Console%0A%20%20%20%20participant%20LastError%20as%20Last%20Error%20Buffer%0A%0A%20%20%20%20Agent-%3E%3EAK%3A%20open(%22%2Fetc%2Fsecret%22%2C%20O_RDONLY)%0A%20%20%20%20AK-%3E%3EAK%3A%20Check%20policy%0A%20%20%20%20AK-%3E%3EAK%3A%20No%20match%20for%20%2Fetc%2Fsecret%0A%0A%20%20%20%20AK-%3E%3EConsole%3A%20AK%20DENY%20FS_OPEN%20%2Fetc%2Fsecret...%0A%20%20%20%20AK-%3E%3ELastError%3A%20Store%20denial%20details%0A%0A%20%20%20%20AK--%3E%3EAgent%3A%20-EACCES%0A%0A%20%20%20%20Agent-%3E%3EAK%3A%20syscall(AK_SYS_LAST_ERROR)%0A%20%20%20%20AK-%3E%3ELastError%3A%20Read%20stored%20denial%0A%20%20%20%20LastError--%3E%3EAgent%3A%20JSON%20with%20details%0A"})]),fallback:r(()=>[...d[6]||(d[6]=[p(" Loading... ",-1)])]),_:1})),d[14]||(d[14]=n("",13))])}]]);export{d as __pageData,c as default};
