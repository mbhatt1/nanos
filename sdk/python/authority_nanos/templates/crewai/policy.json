{
  "policy": {
    "version": "1.0",
    "name": "{{PROJECT_NAME}}",
    "description": "CrewAI multi-agent policy with shared state and LLM access"
  },
  "capabilities": {
    "heap": {
      "enabled": true,
      "max_objects": 5000,
      "max_size_bytes": 52428800,
      "shared_access": true
    },
    "network": {
      "enabled": true,
      "allowed_hosts": [
        "api.openai.com",
        "api.anthropic.com"
      ],
      "allowed_ports": [443],
      "protocols": ["https"],
      "max_connections": 10
    },
    "filesystem": {
      "enabled": false
    },
    "environment": {
      "allowed_vars": [
        "OPENAI_API_KEY",
        "ANTHROPIC_API_KEY"
      ]
    },
    "concurrency": {
      "max_agents": 10,
      "max_tasks": 50
    }
  },
  "rules": [
    {
      "name": "allow-heap-operations",
      "effect": "allow",
      "actions": ["heap:alloc", "heap:read", "heap:write", "heap:delete"],
      "resources": ["*"]
    },
    {
      "name": "allow-shared-memory",
      "effect": "allow",
      "actions": ["heap:share", "heap:read_shared", "heap:write_shared"],
      "resources": ["shared:*"]
    },
    {
      "name": "allow-llm-api",
      "effect": "allow",
      "actions": ["network:connect", "network:send", "network:receive"],
      "resources": ["https://api.openai.com/*", "https://api.anthropic.com/*"]
    },
    {
      "name": "allow-env-vars",
      "effect": "allow",
      "actions": ["env:read"],
      "resources": ["OPENAI_API_KEY", "ANTHROPIC_API_KEY"]
    }
  ],
  "agent_isolation": {
    "enabled": true,
    "share_heap": true,
    "share_network": false
  }
}
